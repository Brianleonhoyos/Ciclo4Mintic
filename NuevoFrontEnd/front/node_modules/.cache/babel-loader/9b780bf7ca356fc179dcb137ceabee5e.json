{"ast":null,"code":"var _jsxFileName = \"C:\\\\WebDevelop\\\\Proyectos\\\\Ciclo4Mintic\\\\NuevoFrontEnd\\\\front\\\\src\\\\Componentes\\\\agregarProducto.js\";\nimport { Navigate } from \"react-router\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst XLSX = require(\"xlsx\");\n\nclass SubirProducto extends Component {\n  constructor() {\n    super(...arguments);\n    this.archivo = /*#__PURE__*/React.createRef();\n    this.state = {\n      producto_ArchivoLista: [],\n      status: null\n    };\n\n    this.guardarProducto = e => {\n      const csv = XLSX.readFile(e);\n      var nombre = csv.SheetNames;\n      let datos = XLSX.utils.sheet_to_json(csv.Sheets[nombre[0]]);\n      this.setState({\n        producto_ArchivoLista: datos\n      }); //state.producto_ArchivoLista.push(lista);  Mirar el set status que creo que es una funcion que ocupa al .push\n\n      axios.post(\"http://localhost:8081/api/productos\" + this.state.producto_ArchivoLista) //Aqui va la url de listar\n      .then(res => {\n        this.setState({\n          status: \"succes\"\n        });\n      });\n    };\n  }\n\n  render() {\n    if (this.state.status === \"succes\") {\n      return /*#__PURE__*/_jsxDEV(Navigate, {\n        to: \"/main\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 20\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Guardar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.guardarProducto(this.archivo),\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"card-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"form-goup p-2 center\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              accept: \".csv\",\n              class: \"form-control\",\n              id: \"inputGroupFile02\",\n              name: \"archivo\",\n              ref: this.archivo\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"form-goup p-2 center\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              class: \"btn btn-primary btn-block\",\n              children: \"Cargar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default SubirProducto; //Linea 13 input, el REF es para asignarle a un this. el valor del input","map":{"version":3,"sources":["C:/WebDevelop/Proyectos/Ciclo4Mintic/NuevoFrontEnd/front/src/Componentes/agregarProducto.js"],"names":["Navigate","React","Component","axios","XLSX","require","SubirProducto","archivo","createRef","state","producto_ArchivoLista","status","guardarProducto","e","csv","readFile","nombre","SheetNames","datos","utils","sheet_to_json","Sheets","setState","post","then","res","render"],"mappings":";AAAA,SAASA,QAAT,QAAyB,cAAzB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AACA,MAAMC,IAAI,GAAGC,OAAO,CAAC,MAAD,CAApB;;AAGA,MAAMC,aAAN,SAA4BJ,SAA5B,CAAsC;AAAA;AAAA;AAAA,SAElCK,OAFkC,gBAExBN,KAAK,CAACO,SAAN,EAFwB;AAAA,SAKlCC,KALkC,GAK1B;AACJC,MAAAA,qBAAqB,EAAE,EADnB;AAEJC,MAAAA,MAAM,EAAE;AAFJ,KAL0B;;AAAA,SAUlCC,eAVkC,GAUfC,CAAD,IAAO;AAErB,YAAMC,GAAG,GAAGV,IAAI,CAACW,QAAL,CAAcF,CAAd,CAAZ;AAEA,UAAIG,MAAM,GAAGF,GAAG,CAACG,UAAjB;AAEA,UAAIC,KAAK,GAAGd,IAAI,CAACe,KAAL,CAAWC,aAAX,CAAyBN,GAAG,CAACO,MAAJ,CAAWL,MAAM,CAAC,CAAD,CAAjB,CAAzB,CAAZ;AAGA,WAAKM,QAAL,CAAc;AACVZ,QAAAA,qBAAqB,EAAEQ;AADb,OAAd,EATqB,CAYrB;;AAEAf,MAAAA,KAAK,CAACoB,IAAN,CAAW,wCAAwC,KAAKd,KAAL,CAAWC,qBAA9D,EAAqF;AAArF,OACKc,IADL,CACUC,GAAG,IAAI;AACT,aAAKH,QAAL,CAAc;AACVX,UAAAA,MAAM,EAAE;AADE,SAAd;AAGH,OALL;AAOH,KA/BiC;AAAA;;AAiClCe,EAAAA,MAAM,GAAG;AAEL,QAAI,KAAKjB,KAAL,CAAWE,MAAX,KAAsB,QAA1B,EAAoC;AAChC,0BAAO,QAAC,QAAD;AAAU,QAAA,EAAE,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,cAAP;AACH;;AAED,wBACI;AAAA,8BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAM,QAAA,QAAQ,EAAE,KAAKC,eAAL,CAAqB,KAAKL,OAA1B,CAAhB;AAAA,+BACI;AAAK,UAAA,KAAK,EAAC,WAAX;AAAA,kCACI;AAAK,YAAA,KAAK,EAAC,sBAAX;AAAA,mCACI;AAAO,cAAA,IAAI,EAAC,MAAZ;AAAmB,cAAA,MAAM,EAAC,MAA1B;AAAiC,cAAA,KAAK,EAAC,cAAvC;AAAsD,cAAA,EAAE,EAAC,kBAAzD;AAA4E,cAAA,IAAI,EAAC,SAAjF;AAA2F,cAAA,GAAG,EAAE,KAAKA;AAArG;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBADJ,eAII;AAAK,YAAA,KAAK,EAAC,sBAAX;AAAA,mCACI;AAAQ,cAAA,IAAI,EAAC,QAAb;AAAsB,cAAA,KAAK,EAAC,2BAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBAJJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAkBH;;AAzDiC;;AA8DtC,eAAeD,aAAf,C,CAEA","sourcesContent":["import { Navigate } from \"react-router\";\r\nimport React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nconst XLSX = require(\"xlsx\");\r\n\r\n\r\nclass SubirProducto extends Component {\r\n\r\n    archivo = React.createRef();\r\n\r\n\r\n    state = {\r\n        producto_ArchivoLista: [],\r\n        status: null\r\n    }\r\n\r\n    guardarProducto = (e) => {\r\n\r\n        const csv = XLSX.readFile(e);\r\n\r\n        var nombre = csv.SheetNames;\r\n\r\n        let datos = XLSX.utils.sheet_to_json(csv.Sheets[nombre[0]]);\r\n\r\n\r\n        this.setState({\r\n            producto_ArchivoLista: datos\r\n        });\r\n        //state.producto_ArchivoLista.push(lista);  Mirar el set status que creo que es una funcion que ocupa al .push\r\n\r\n        axios.post(\"http://localhost:8081/api/productos\" + this.state.producto_ArchivoLista) //Aqui va la url de listar\r\n            .then(res => {\r\n                this.setState({\r\n                    status: \"succes\"\r\n                })\r\n            })\r\n\r\n    }\r\n\r\n    render() {\r\n\r\n        if (this.state.status === \"succes\") {\r\n            return <Navigate to=\"/main\" />\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <h1>Guardar</h1>\r\n                <form onSubmit={this.guardarProducto(this.archivo)}>\r\n                    <div class=\"card-body\">\r\n                        <div class=\"form-goup p-2 center\">\r\n                            <input type=\"file\" accept=\".csv\" class=\"form-control\" id=\"inputGroupFile02\" name=\"archivo\" ref={this.archivo} />\r\n                        </div>\r\n                        <div class=\"form-goup p-2 center\">\r\n                            <button type=\"submit\" class=\"btn btn-primary btn-block\">\r\n                                Cargar\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        );\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SubirProducto;\r\n\r\n//Linea 13 input, el REF es para asignarle a un this. el valor del input"]},"metadata":{},"sourceType":"module"}
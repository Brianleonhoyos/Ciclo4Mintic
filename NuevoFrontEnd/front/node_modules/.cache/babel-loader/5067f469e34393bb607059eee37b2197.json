{"ast":null,"code":"var _jsxFileName = \"C:\\\\WebDevelop\\\\Proyectos\\\\Ciclo4Mintic\\\\NuevoFrontEnd\\\\front\\\\src\\\\Componentes\\\\agregarProducto.js\";\nimport { Navigate } from \"react-router\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass SubirProducto extends Component {\n  constructor() {\n    super(...arguments);\n    this.archivo = /*#__PURE__*/React.createRef();\n    this.state = {\n      producto_ArchivoLista: [],\n      status: null\n    };\n\n    this.guardarProducto = (e, state) => {\n      e.preventDefault(); //Para no enviar datos por la URL para mas securite\n\n      if (typeof e !== 'string') {\n        throw TypeError('El archivo no es una cadena de texto');\n      }\n\n      let lista = e.slice(false ? e.indexOf('/n') + 1 : 0) //? ES PARA DECIRLE QUE SI ES TRUE?\n      .split('/n') //No puede ir ; arriba porque crea un error ya que e.slice se cierra\n      .map(l => l.split(','));\n      state.producto_ArchivoLista.push(lista);\n      axios.post(\"http://localhost:8081/api/productos\" + state.producto_ArchivoLista) //Aqui va la url de listar\n      .then(res => {\n        this.setState({\n          status: \"succes\"\n        });\n      });\n    };\n  }\n\n  render() {\n    if (this.state.status === \"succes\") {\n      return /*#__PURE__*/_jsxDEV(Navigate, {\n        to: \"/main\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 20\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"card-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"form-goup p-2 center\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            accept: \".csv\",\n            class: \"form-control\",\n            id: \"inputGroupFile02\",\n            name: \"archivo\",\n            ref: this.archivo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"form-goup p-2 center\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              this.guardarProducto(this.archivo, this.state); // hay que mirar esto porque en el video lo hace con un form que llama a la funcion pero sin ningun parametro\n            },\n            class: \"btn btn-primary btn-block\",\n            children: \"Cargar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default SubirProducto; //Linea 13 input, el REF es para asignarle a un this. el valor del input","map":{"version":3,"sources":["C:/WebDevelop/Proyectos/Ciclo4Mintic/NuevoFrontEnd/front/src/Componentes/agregarProducto.js"],"names":["Navigate","React","Component","axios","SubirProducto","archivo","createRef","state","producto_ArchivoLista","status","guardarProducto","e","preventDefault","TypeError","lista","slice","indexOf","split","map","l","push","post","then","res","setState","render"],"mappings":";AAAA,SAASA,QAAT,QAAyB,cAAzB;AACA,OAAOC,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAEA,MAAMC,aAAN,SAA4BF,SAA5B,CAAqC;AAAA;AAAA;AAAA,SAEjCG,OAFiC,gBAEvBJ,KAAK,CAACK,SAAN,EAFuB;AAAA,SAIjCC,KAJiC,GAIzB;AACJC,MAAAA,qBAAqB,EAAC,EADlB;AAEJC,MAAAA,MAAM,EAAC;AAFH,KAJyB;;AAAA,SASjCC,eATiC,GASf,CAACC,CAAD,EAAIJ,KAAJ,KAAc;AAC5BI,MAAAA,CAAC,CAACC,cAAF,GAD4B,CACR;;AACpB,UAAG,OAAOD,CAAP,KAAa,QAAhB,EAAyB;AACrB,cAAME,SAAS,CAAC,sCAAD,CAAf;AACH;;AAED,UAAIC,KAAK,GAAGH,CAAC,CAACI,KAAF,CAAQ,QAAQJ,CAAC,CAACK,OAAF,CAAU,IAAV,IAAkB,CAA1B,GAA8B,CAAtC,EAAwC;AAAxC,OACXC,KADW,CACL,IADK,EACA;AADA,OAEXC,GAFW,CAEPC,CAAC,IAAIA,CAAC,CAACF,KAAF,CAAQ,GAAR,CAFE,CAAZ;AAIAV,MAAAA,KAAK,CAACC,qBAAN,CAA4BY,IAA5B,CAAiCN,KAAjC;AAEAX,MAAAA,KAAK,CAACkB,IAAN,CAAW,wCAAwCd,KAAK,CAACC,qBAAzD,EAAgF;AAAhF,OACKc,IADL,CACUC,GAAG,IAAI;AACT,aAAKC,QAAL,CAAc;AACVf,UAAAA,MAAM,EAAC;AADG,SAAd;AAGH,OALL;AAOH,KA5BgC;AAAA;;AA8BjCgB,EAAAA,MAAM,GAAE;AAEJ,QAAG,KAAKlB,KAAL,CAAWE,MAAX,KAAsB,QAAzB,EAAkC;AAC9B,0BAAO,QAAC,QAAD;AAAU,QAAA,EAAE,EAAG;AAAf;AAAA;AAAA;AAAA;AAAA,cAAP;AACH;;AAED,wBACI;AAAA,6BACI;AAAK,QAAA,KAAK,EAAC,WAAX;AAAA,gCACI;AAAK,UAAA,KAAK,EAAC,sBAAX;AAAA,iCACI;AAAO,YAAA,IAAI,EAAC,MAAZ;AAAmB,YAAA,MAAM,EAAC,MAA1B;AAAiC,YAAA,KAAK,EAAC,cAAvC;AAAsD,YAAA,EAAE,EAAC,kBAAzD;AAA4E,YAAA,IAAI,EAAG,SAAnF;AAA6F,YAAA,GAAG,EAAI,KAAKJ;AAAzG;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBADJ,eAII;AAAK,UAAA,KAAK,EAAC,sBAAX;AAAA,iCACI;AAAQ,YAAA,OAAO,EACX,MAAM;AACF,mBAAKK,eAAL,CAAqB,KAAKL,OAA1B,EAAmC,KAAKE,KAAxC,EADE,CAC8C;AACnD,aAHL;AAIE,YAAA,KAAK,EAAC,2BAJR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBAJJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADJ;AAmBH;;AAvDgC;;AA4DrC,eAAeH,aAAf,C,CAEA","sourcesContent":["import { Navigate } from \"react-router\";\r\nimport React, {Component} from \"react\";\r\nimport axios from \"axios\";\r\n\r\nclass SubirProducto extends Component{\r\n\r\n    archivo = React.createRef();\r\n\r\n    state = {\r\n        producto_ArchivoLista:[],\r\n        status:null\r\n    }\r\n\r\n    guardarProducto = (e, state) => {\r\n        e.preventDefault(); //Para no enviar datos por la URL para mas securite\r\n        if(typeof e !== 'string'){\r\n            throw TypeError('El archivo no es una cadena de texto')\r\n        }\r\n\r\n        let lista = e.slice(false ? e.indexOf('/n') + 1 : 0)//? ES PARA DECIRLE QUE SI ES TRUE?\r\n        .split('/n')//No puede ir ; arriba porque crea un error ya que e.slice se cierra\r\n        .map(l => l.split(','));\r\n\r\n        state.producto_ArchivoLista.push(lista);\r\n\r\n        axios.post(\"http://localhost:8081/api/productos\" + state.producto_ArchivoLista) //Aqui va la url de listar\r\n            .then(res => {\r\n                this.setState({\r\n                    status:\"succes\"\r\n                })\r\n            })\r\n    \r\n    }\r\n\r\n    render(){\r\n\r\n        if(this.state.status === \"succes\"){\r\n            return <Navigate to = \"/main\" />\r\n        }\r\n\r\n        return(\r\n            <div>\r\n                <div class=\"card-body\">\r\n                    <div class=\"form-goup p-2 center\">\r\n                        <input type=\"file\" accept=\".csv\" class=\"form-control\" id=\"inputGroupFile02\" name = \"archivo\" ref = {this.archivo}/> \r\n                    </div>\r\n                    <div class=\"form-goup p-2 center\">\r\n                        <button onClick = {\r\n                            () => {\r\n                                this.guardarProducto(this.archivo, this.state); // hay que mirar esto porque en el video lo hace con un form que llama a la funcion pero sin ningun parametro\r\n                            }\r\n                        } class=\"btn btn-primary btn-block\">\r\n                            Cargar\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n            \r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SubirProducto;\r\n\r\n//Linea 13 input, el REF es para asignarle a un this. el valor del input"]},"metadata":{},"sourceType":"module"}
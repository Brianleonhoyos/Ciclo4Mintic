{"ast":null,"code":"var _jsxFileName = \"C:\\\\WebDevelop\\\\Proyectos\\\\Ciclo4Mintic\\\\NuevoFrontEnd\\\\front\\\\src\\\\Componentes\\\\EditarProducto.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Link, Navigate } from \"react-router-dom\";\nimport { BrowserRouter, Routes, Route, NavLink } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass EditarProducto extends Component {\n  constructor() {\n    super(...arguments);\n    this.path = null;\n    this.url = [];\n    this.productoCodigo = null;\n    this.archivo = /*#__PURE__*/React.createRef();\n    this.state = {\n      producto_ArchivoLista: [],\n      status: null\n    };\n\n    this.guardarProducto = e => {\n      e.preventDefault(); //Para no enviar datos por la URL para mas securite\n\n      if (typeof e !== 'string') {\n        throw TypeError('El archivo no es una cadena de texto');\n      }\n\n      let lista = e.slice(false ? e.indexOf('/n') + 1 : 0) //? ES PARA DECIRLE QUE SI ES TRUE?\n      .split('/n') //No puede ir ; arriba porque crea un error ya que e.slice se cierra\n      .map(l => l.split(','));\n      this.setState({\n        producto_ArchivoLista: lista\n      }); //state.producto_ArchivoLista.push(lista);  Mirar el set status que creo que es una funcion que ocupa al .push\n    };\n\n    this.getProducto = codigo => {\n      axios.put(\"http://localhost:8081/api/productos/{nit}\" + codigo + setState).then(res => {\n        this.setState({\n          producto: res.data //res.data es lo que le devuelve el microservicio\n\n        });\n      });\n    };\n  }\n\n  componentWillUnmount() {\n    this.path = window.location.pathname;\n    this.url = this.path.split(\"/\");\n    console.log(this.url);\n    this.productoCodigo = this.url[2];\n    this.getProductos(this.productoCodigo);\n  }\n\n  render() {\n    console.log(this.state.producto);\n\n    if (this.state.status === \"succes\") {\n      return /*#__PURE__*/_jsxDEV(Navigate, {\n        to: \"/main\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 20\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Editar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.guardarProducto(this.archivo, state),\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"card-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"form-goup p-2 center\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              accept: \".csv\",\n              class: \"form-control\",\n              id: \"inputGroupFile02\",\n              name: \"archivo\",\n              ref: this.archivo\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"form-goup p-2 center\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              class: \"btn btn-primary btn-block\",\n              children: \"Cargar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default EditarProducto; //Linea 13 input, el REF es para asignarle a un this. el valor del input","map":{"version":3,"sources":["C:/WebDevelop/Proyectos/Ciclo4Mintic/NuevoFrontEnd/front/src/Componentes/EditarProducto.js"],"names":["React","Component","axios","Link","Navigate","BrowserRouter","Routes","Route","NavLink","EditarProducto","path","url","productoCodigo","archivo","createRef","state","producto_ArchivoLista","status","guardarProducto","e","preventDefault","TypeError","lista","slice","indexOf","split","map","l","setState","getProducto","codigo","put","then","res","producto","data","componentWillUnmount","window","location","pathname","console","log","getProductos","render"],"mappings":"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","sourcesContent":["\r\n\r\nimport React, {Component} from \"react\";\r\nimport axios from \"axios\";\r\nimport {Link, Navigate} from \"react-router-dom\";\r\nimport {BrowserRouter, Routes, Route, NavLink} from \"react-router-dom\";\r\n\r\nclass EditarProducto extends Component{\r\n\r\n    path = null;\r\n    url = [];\r\n\r\n    productoCodigo = null;\r\n\r\n    archivo = React.createRef();\r\n\r\n    state = {\r\n        producto_ArchivoLista:[],\r\n        status:null\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        this.path = window.location.pathname;\r\n        this.url = this.path.split(\"/\");\r\n        console.log(this.url);\r\n        this.productoCodigo = this.url[2];\r\n        this.getProductos(this.productoCodigo);\r\n\r\n    }\r\n\r\n\r\n\r\n    guardarProducto = (e) => {\r\n        e.preventDefault(); //Para no enviar datos por la URL para mas securite\r\n        if(typeof e !== 'string'){\r\n            throw TypeError('El archivo no es una cadena de texto')\r\n        }\r\n\r\n        let lista = e.slice(false ? e.indexOf('/n') + 1 : 0)//? ES PARA DECIRLE QUE SI ES TRUE?\r\n        .split('/n')//No puede ir ; arriba porque crea un error ya que e.slice se cierra\r\n        .map(l => l.split(','));\r\n\r\n        this.setState({\r\n            producto_ArchivoLista:lista\r\n        });\r\n        //state.producto_ArchivoLista.push(lista);  Mirar el set status que creo que es una funcion que ocupa al .push\r\n\r\n    }\r\n    getProducto = (codigo) => {\r\n\r\n        axios.put(\"http://localhost:8081/api/productos/{nit}\" + codigo + setState)\r\n            .then(res => {\r\n                this.setState({\r\n                    producto:res.data //res.data es lo que le devuelve el microservicio\r\n                })\r\n            });\r\n\r\n    }\r\n\r\n    render(){\r\n        console.log(this.state.producto);\r\n        if(this.state.status === \"succes\"){\r\n            return <Navigate to = \"/main\" />\r\n        }\r\n\r\n        return(\r\n            <div>\r\n                <h1>Editar</h1>\r\n                <form onSubmit={this.guardarProducto(this.archivo, state)}>\r\n                    <div class=\"card-body\">\r\n                        <div class=\"form-goup p-2 center\">\r\n                            <input type=\"file\" accept=\".csv\" class=\"form-control\" id=\"inputGroupFile02\" name = \"archivo\" ref = {this.archivo}/> \r\n                        </div>\r\n                        <div class=\"form-goup p-2 center\">\r\n                            <button type = \"submit\" class=\"btn btn-primary btn-block\">\r\n                                Cargar\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        );\r\n            \r\n    }\r\n}\r\n\r\n\r\n\r\nexport default EditarProducto;\r\n\r\n//Linea 13 input, el REF es para asignarle a un this. el valor del input"]},"metadata":{},"sourceType":"module"}
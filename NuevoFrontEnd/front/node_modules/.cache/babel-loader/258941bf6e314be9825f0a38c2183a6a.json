{"ast":null,"code":"/*\r\nimport React, {Component} from \"react\";\r\nimport axios from \"axios\";\r\nimport {Link, Navigate} from \"react-router-dom\";\r\nimport {BrowserRouter, Routes, Route, NavLink} from \"react-router-dom\";\r\n\r\nclass EditarProducto extends Component{\r\n\r\n    path = null;\r\n    url = [];\r\n\r\n    productoCodigo = null;\r\n\r\n    archivo = React.createRef();\r\n\r\n    state = {\r\n        producto_ArchivoLista:[],\r\n        status:null\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        this.path = window.location.pathname;\r\n        this.url = this.path.split(\"/\");\r\n        console.log(this.url);\r\n        this.productoCodigo = this.url[2];\r\n        this.getProductos(this.productoCodigo);\r\n\r\n    }\r\n\r\n\r\n\r\n    guardarProducto = (e) => {\r\n        e.preventDefault(); //Para no enviar datos por la URL para mas securite\r\n        if(typeof e !== 'string'){\r\n            throw TypeError('El archivo no es una cadena de texto')\r\n        }\r\n\r\n        let lista = e.slice(false ? e.indexOf('/n') + 1 : 0)//? ES PARA DECIRLE QUE SI ES TRUE?\r\n        .split('/n')//No puede ir ; arriba porque crea un error ya que e.slice se cierra\r\n        .map(l => l.split(','));\r\n\r\n        this.setState({\r\n            producto_ArchivoLista:lista\r\n        });\r\n        //state.producto_ArchivoLista.push(lista);  Mirar el set status que creo que es una funcion que ocupa al .push\r\n\r\n    }\r\n    getProducto = (codigo) => {\r\n\r\n        axios.put(\"http://localhost:8081/api/productos/{nit}\" + codigo + setState)\r\n            .then(res => {\r\n                this.setState({\r\n                    producto:res.data //res.data es lo que le devuelve el microservicio\r\n                })\r\n            });\r\n\r\n    }\r\n\r\n    render(){\r\n        console.log(this.state.producto);\r\n        if(this.state.status === \"succes\"){\r\n            return <Navigate to = \"/main\" />\r\n        }\r\n\r\n        return(\r\n            <div>\r\n                <h1>Editar</h1>\r\n                <form onSubmit={this.guardarProducto(this.archivo, state)}>\r\n                    <div class=\"card-body\">\r\n                        <div class=\"form-goup p-2 center\">\r\n                            <input type=\"file\" accept=\".csv\" class=\"form-control\" id=\"inputGroupFile02\" name = \"archivo\" ref = {this.archivo}/> \r\n                        </div>\r\n                        <div class=\"form-goup p-2 center\">\r\n                            <button type = \"submit\" class=\"btn btn-primary btn-block\">\r\n                                Cargar\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        );\r\n            \r\n    }\r\n}\r\n\r\n\r\n\r\nexport default EditarProducto;\r\n\r\n//Linea 13 input, el REF es para asignarle a un this. el valor del input */","map":{"version":3,"sources":["C:/WebDevelop/Proyectos/Ciclo4Mintic/NuevoFrontEnd/front/src/Componentes/EditarProducto.js"],"names":[],"mappings":"AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["\r\n/*\r\nimport React, {Component} from \"react\";\r\nimport axios from \"axios\";\r\nimport {Link, Navigate} from \"react-router-dom\";\r\nimport {BrowserRouter, Routes, Route, NavLink} from \"react-router-dom\";\r\n\r\nclass EditarProducto extends Component{\r\n\r\n    path = null;\r\n    url = [];\r\n\r\n    productoCodigo = null;\r\n\r\n    archivo = React.createRef();\r\n\r\n    state = {\r\n        producto_ArchivoLista:[],\r\n        status:null\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        this.path = window.location.pathname;\r\n        this.url = this.path.split(\"/\");\r\n        console.log(this.url);\r\n        this.productoCodigo = this.url[2];\r\n        this.getProductos(this.productoCodigo);\r\n\r\n    }\r\n\r\n\r\n\r\n    guardarProducto = (e) => {\r\n        e.preventDefault(); //Para no enviar datos por la URL para mas securite\r\n        if(typeof e !== 'string'){\r\n            throw TypeError('El archivo no es una cadena de texto')\r\n        }\r\n\r\n        let lista = e.slice(false ? e.indexOf('/n') + 1 : 0)//? ES PARA DECIRLE QUE SI ES TRUE?\r\n        .split('/n')//No puede ir ; arriba porque crea un error ya que e.slice se cierra\r\n        .map(l => l.split(','));\r\n\r\n        this.setState({\r\n            producto_ArchivoLista:lista\r\n        });\r\n        //state.producto_ArchivoLista.push(lista);  Mirar el set status que creo que es una funcion que ocupa al .push\r\n\r\n    }\r\n    getProducto = (codigo) => {\r\n\r\n        axios.put(\"http://localhost:8081/api/productos/{nit}\" + codigo + setState)\r\n            .then(res => {\r\n                this.setState({\r\n                    producto:res.data //res.data es lo que le devuelve el microservicio\r\n                })\r\n            });\r\n\r\n    }\r\n\r\n    render(){\r\n        console.log(this.state.producto);\r\n        if(this.state.status === \"succes\"){\r\n            return <Navigate to = \"/main\" />\r\n        }\r\n\r\n        return(\r\n            <div>\r\n                <h1>Editar</h1>\r\n                <form onSubmit={this.guardarProducto(this.archivo, state)}>\r\n                    <div class=\"card-body\">\r\n                        <div class=\"form-goup p-2 center\">\r\n                            <input type=\"file\" accept=\".csv\" class=\"form-control\" id=\"inputGroupFile02\" name = \"archivo\" ref = {this.archivo}/> \r\n                        </div>\r\n                        <div class=\"form-goup p-2 center\">\r\n                            <button type = \"submit\" class=\"btn btn-primary btn-block\">\r\n                                Cargar\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        );\r\n            \r\n    }\r\n}\r\n\r\n\r\n\r\nexport default EditarProducto;\r\n\r\n//Linea 13 input, el REF es para asignarle a un this. el valor del input */"]},"metadata":{},"sourceType":"module"}